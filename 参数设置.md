- 下面把**目前工程里所有“可调参数”**按模块列出来，包含：配置键路径、类型、建议范围（UI控件范围）、默认值（按我们讨论过的默认）、以及用途说明。你可以据此完善 UI（或确认哪些已在 UI 上有控件，哪些还需要补）。

  > 约定：配置文件为 `config/default_config.json`，主配置在 `general`，手套在 `glove`，手势在 `gesture_catalog`，动作在 `action_catalog`。

  ------

  # 1) 摄像与显示

  | 配置键                        | 类型  |  建议范围/可选值 | 默认 | 说明                                       |
  | ----------------------------- | ----- | ---------------: | ---: | ------------------------------------------ |
  | `general.camera_index`        | int   |              0–3 |    0 | 摄像头索引                                 |
  | `general.camera_width`        | int   | 320/640/960/1280 |  640 | 采集宽度                                   |
  | `general.camera_height`       | int   |      240/480/720 |  480 | 采集高度                                   |
  | `general.camera_fps`          | int   |            15–60 |   30 | 采集帧率（驱动可能不完全遵守）             |
  | `general.mirror_camera`       | bool  |       true/false | true | 预览与识别输入是否镜像                     |
  | `general.show_camera_preview` | bool  |       true/false | true | 是否在 UI 显示预览（不等于关闭摄像头设备） |
  | `general.ui_fps`              | int   |            15–60 |   24 | UI 渲染刷新频率（越高越耗 CPU）            |
  | `general.infer_fps`           | int   |             5–30 |   12 | 推理频率（越高越耗 CPU）                   |
  | `general.infer_scale`         | float |          0.3–1.0 |  0.6 | 推理缩放比例（越小越省 CPU、精度可能下降） |
  | `general.osd_enabled`         | bool  |       true/false | true | 是否启用 OSD 提示                          |

  ------

  # 2) 系统开关状态（运行时/可持久化）

  这些通常在 UI 上用复选框控制，也可写入配置保存：

  | 配置键                              | 类型 | 可选值     | 默认 | 说明                                               |
  | ----------------------------------- | ---- | ---------- | ---- | -------------------------------------------------- |
  | `general.recognition_enabled`       | bool | true/false | true | 是否进行识别（无识别则不产出手势）                 |
  | `general.execution_enabled`         | bool | true/false | true | 是否执行动作（调试时可只识别不执行）               |
  | `general.mouse_move_output_enabled` | bool | true/false | true | 是否允许手势驱动鼠标移动输出（moveTo）             |
  | `state.camera_device_enabled`       | bool | true/false | true | 摄像头设备开关（你现在是 UI 控制，是否持久化可选） |

  > 注：`camera_device_enabled` 当前是 state 字段，你如果想保存到配置，可增加 `general.camera_device_enabled` 并在保存时写入。

  ------

  # 3) 鼠标移动映射参数

  | 配置键                      | 类型  | UI范围建议 | 默认 | 说明                                             |
  | --------------------------- | ----- | ---------: | ---: | ------------------------------------------------ |
  | `general.mouse_smoothing`   | float |   0.0–0.95 | 0.35 | 平滑系数（越大越“黏”、越慢；越小越灵敏抖动更大） |
  | `general.mouse_sensitivity` | float |    0.3–2.5 |  1.0 | 灵敏度增益（映射放大）                           |
  | `general.mouse_deadzone_px` | int   |       0–20 |    2 | 死区像素，小位移不移动，抑制抖动                 |

  ------

  # 4) 静态/动态识别通用参数（引擎级）

  | 配置键                      | 类型      | UI范围建议 |    默认 | 说明                                               |
  | --------------------------- | --------- | ---------: | ------: | -------------------------------------------------- |
  | `general.stable_frames`     | int       |        1–6 |     2/3 | 静态手势确认需要的连续帧数（越大越稳但更难触发）   |
  | `general.cooldown_ms`       | int       |     0–3000 |     450 | 通用冷却（用于 SWIPE 等事件，或作为默认）          |
  | `general.dynamic_window_ms` | int       |   200–1200 | 450–550 | 动态轨迹窗口长度（越大越容易累计位移，越小越灵敏） |
  | `general.swipe_thresh_px`   | int/float |     40–200 |  70–120 | SWIPE 识别位移阈值（px）                           |

  ------

  # 5) 捏合/并拢阈值（复合手势基础）

  | 配置键                           | 类型  | UI范围建议 |      默认 | 说明                                        |
  | -------------------------------- | ----- | ---------: | --------: | ------------------------------------------- |
  | `general.pinch_threshold_ratio`  | float |  0.20–0.60 | 0.33–0.36 | 捏合阈值（距离/掌宽）。越大越容易判为捏合   |
  | `general.two_finger_close_ratio` | float |  0.15–0.50 | 0.22–0.24 | 两指并拢阈值（距离/掌宽）。越大越容易判并拢 |

  ------

  # 6) PINCH_SCROLL 比例滚动参数

  | 配置键                       | 类型      | UI范围建议 | 默认 | 说明                       |
  | ---------------------------- | --------- | ---------: | ---: | -------------------------- |
  | `general.scroll_gain`        | float     |    0.2–5.0 |  1.6 | 滚动增益：位移→滚动量比例  |
  | `general.scroll_deadzone_px` | int/float |       0–30 |    6 | 位移死区：小于该值不滚动   |
  | `general.scroll_max_step`    | int/float |     10–500 |  120 | 单帧滚动上限，避免突然爆滚 |

  ------

  # 7) “误触优化”门控参数（滑动/速度/持续）

  这些就是你最新加的“冲突抑制”机制相关参数：

  | 配置键                             | 类型  | UI范围建议 | 默认 | 说明                                                         |
  | ---------------------------------- | ----- | ---------: | ---: | ------------------------------------------------------------ |
  | `general.click_guard_move_px`      | float |      5–120 |   35 | 轨迹窗口路径长度超过该值视为在移动，屏蔽 click 类手势        |
  | `general.click_hold_frames`        | int   |        1–6 |    2 | pinch/close 需连续满足多少帧才允许触发 click（越大越稳，响应更慢） |
  | `general.click_max_speed_px_per_s` | float |   100–2000 |  650 | 平均速度上限：超过则屏蔽 click（滑动快时不触发点击）         |

  ------

  # 8) 手指方向与单指增强（finger_rules，可在 UI 全部调）

  路径：`general.finger_rules`

  ## 8.1 总开关与单指增强

  | 配置键                                       | 类型  | UI范围建议 | 默认 | 说明                                               |
  | -------------------------------------------- | ----- | ---------: | ---: | -------------------------------------------------- |
  | `general.finger_rules.use_direction`         | bool  | true/false | true | 是否启用“长度+方向一致性”判定（关闭则回退 y 规则） |
  | `general.finger_rules.single_finger_enhance` | bool  | true/false | true | 是否启用“单指增强”：要求其它指明确收拢             |
  | `general.finger_rules.others_fold_len_thr`   | float |  0.10–1.00 | 0.45 | 单指增强时，其他指 `len_ratio` 小于该阈值才算收拢  |

  ## 8.2 四指（index/middle/ring/pinky）的阈值

  每根手指都有两个参数：

  - `len_thr`：长度阈值（|tip-mcp|/palm_width）
  - `cos_thr`：方向一致性阈值（cos((tip-mcp),(tip-center))）

  | 配置键                                | 类型  | UI范围建议 | 默认 | 说明                                     |
  | ------------------------------------- | ----- | ---------: | ---: | ---------------------------------------- |
  | `general.finger_rules.index.len_thr`  | float |  0.10–1.20 | 0.55 | 食指伸出长度阈值                         |
  | `general.finger_rules.index.cos_thr`  | float |   -1.0–1.0 | 0.55 | 食指方向一致阈值                         |
  | `general.finger_rules.middle.len_thr` | float |  0.10–1.20 | 0.55 | 中指伸出长度阈值                         |
  | `general.finger_rules.middle.cos_thr` | float |   -1.0–1.0 | 0.55 | 中指方向一致阈值                         |
  | `general.finger_rules.ring.len_thr`   | float |  0.10–1.20 | 0.55 | 无名指伸出长度阈值                       |
  | `general.finger_rules.ring.cos_thr`   | float |   -1.0–1.0 | 0.55 | 无名指方向一致阈值                       |
  | `general.finger_rules.pinky.len_thr`  | float |  0.10–1.20 | 0.50 | 小拇指伸出长度阈值（通常更短，默认更低） |
  | `general.finger_rules.pinky.cos_thr`  | float |   -1.0–1.0 | 0.50 | 小拇指方向一致阈值                       |

  ## 8.3 拇指阈值

  拇指使用“长度 + 远离掌心方向”粗判：

  | 配置键                               | 类型  | UI范围建议 | 默认 | 说明                         |
  | ------------------------------------ | ----- | ---------: | ---: | ---------------------------- |
  | `general.finger_rules.thumb.len_thr` | float |  0.10–1.20 | 0.50 | 拇指伸出长度阈值             |
  | `general.finger_rules.thumb.cos_thr` | float |   -1.0–1.0 | 0.20 | 拇指方向阈值（一般比四指低） |

  ------

  # 9) 自定义动态手势（模板匹配）

  | 配置键                           | 类型  | UI范围建议 | 默认 | 说明                                              |
  | -------------------------------- | ----- | ---------: | ---: | ------------------------------------------------- |
  | `general.custom_match_threshold` | float |  0.05–0.60 | 0.22 | 自定义模板匹配阈值（越小越严格）                  |
  | `custom_gestures[]`              | list  |        N/A |   [] | 用户录制的动态模板库（每条包含 id/mode/template） |

  ------

  # 10) 手套模式（方案C）相关参数（HSV + 形态学）

  路径：`glove`

  | 配置键            | 类型      | UI范围建议 |         默认 | 说明                         |
  | ----------------- | --------- | ---------: | -----------: | ---------------------------- |
  | `glove.hsv_lower` | list[int] | [0..255]×3 |   [20,80,80] | HSV 下界（校准窗口自动生成） |
  | `glove.hsv_upper` | list[int] | [0..255]×3 | [40,255,255] | HSV 上界（校准窗口自动生成） |
  | `glove.erode`     | int       |        0–5 |            1 | 腐蚀次数（去噪）             |
  | `glove.dilate`    | int       |        0–7 |            2 | 膨胀次数（补洞）             |
  | `glove.min_area`  | int       |  300–20000 |         1500 | 最小轮廓面积（过滤小噪点）   |

  ------

  # 11) 手势条目级参数（gesture_catalog[*].params）

  每个手势都可以有 params（目前引擎主要用到下面这些；其余可扩展）：

  | 参数键                 | 类型 | 建议范围 | 说明                                              |
  | ---------------------- | ---- | -------: | ------------------------------------------------- |
  | `params.cooldown_ms`   | int  |   0–5000 | 该手势的冷却（事件触发最小间隔）                  |
  | `params.stable_frames` | int  |      1–8 | （如果你未来扩展 per-gesture stable）静态确认帧数 |
  | （可扩展）             |      |          | 你可以为某手势增加专用阈值并在引擎读取            |

  ------

  # 12) 动作条目级参数（bindings.*.* -> action）

  动作参数由 `action_catalog[*].schema` 定义（UI 表单就是按它生成）。常见动作参数：

  | 动作类型              | 典型参数         | 说明                      |
  | --------------------- | ---------------- | ------------------------- |
  | `scroll_v`            | `amount:int`     | 纵向滚动量                |
  | `scroll_h_shiftwheel` | `amount:int`     | 横向滚动（Shift+Wheel）量 |
  | `key`                 | `key:str`        | 按键名                    |
  | `hotkey`              | `keys:list[str]` | 组合键列表                |
  | `open_program`        | `path:str`       | 程序路径                  |
  | `shell`               | `cmd:str`        | shell 命令                |

  ------

  ## 你现在 UI 上“已可调”的与“建议补充UI”的

  - 你已经在 UI 做了：mouse_smoothing / mouse_sensitivity / mouse_deadzone_px、finger_rules 全套（按我们刚做）
  - 建议后续也做 UI 的：
    - `swipe_thresh_px`、`dynamic_window_ms`
    - pinch/close 阈值（pinch_threshold_ratio、two_finger_close_ratio）
    - click 门控三项（click_guard_move_px / click_hold_frames / click_max_speed_px_per_s）
    - scroll_gain/deadzone/max_step
      这些都很适合在“识别参数”组里继续加一列。